{"ast":null,"code":"import axios from'axios';import React,{useEffect,useState}from'react';import{Unity,useUnityContext}from'react-unity-webgl';import{useParams,useNavigate}from'react-router-dom';import'./Game.css';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function Game(){const unityContext=useUnityContext({loaderUrl:\"\".concat(process.env.PUBLIC_URL,\"/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.loader.js\"),dataUrl:\"\".concat(process.env.PUBLIC_URL,\"/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.data\"),frameworkUrl:\"\".concat(process.env.PUBLIC_URL,\"/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.framework.js\"),codeUrl:\"\".concat(process.env.PUBLIC_URL,\"/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.wasm\")});const navigate=useNavigate();console.log('Unity Context 1:',unityContext);const[score,setScore]=useState(0);const[gameFinished,setGameFinished]=useState(false);const{gameId}=useParams();const handleSubmit=event=>{event.preventDefault();try{axios.get('http://localhost:8081/getScore').then(res=>{const grabbedScore=res.data.score;setScore(grabbedScore);const studentId=sessionStorage.getItem('userId');console.log('Score:',score);if(studentId){axios.post('http://localhost:8081/addGameData',{gameId:gameId,studentId:studentId,score:grabbedScore}).then(res=>{alert(\"Game Data Saved Successfully!\");navigate('/studentcoursehome');}).catch(err=>{console.error(err);alert(\"An unexpected error occurred.\");});}});}catch(error){console.error('Error adding game data:',error);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"game-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"game-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"score\",style:{fontFamily:\"'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif\"},children:[\"Game Score: \",score]}),/*#__PURE__*/_jsx(\"form\",{action:\"\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4\",style:{backgroundColor:'#f2352e',fontFamily:\"'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif\",fontSize:'20px',padding:'12px 24px'},children:\"Exit\"})})]}),/*#__PURE__*/_jsx(Unity,{unityProvider:unityContext.unityProvider,style:{width:'70%',height:'70%'}})]})});}export default Game;","map":{"version":3,"names":["axios","React","useEffect","useState","Unity","useUnityContext","useParams","useNavigate","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","Game","unityContext","loaderUrl","concat","process","env","PUBLIC_URL","dataUrl","frameworkUrl","codeUrl","navigate","console","log","score","setScore","gameFinished","setGameFinished","gameId","handleSubmit","event","preventDefault","get","then","res","grabbedScore","data","studentId","sessionStorage","getItem","post","alert","catch","err","error","children","className","style","fontFamily","action","onSubmit","type","backgroundColor","fontSize","padding","unityProvider","width","height"],"sources":["/Users/alyssaingerson/Documents/GitHub/TheLearningLab/my-app/frontend/src/components/pages/Game.js"],"sourcesContent":["import axios from 'axios';\nimport React, {useEffect, useState} from 'react';\nimport {Unity, useUnityContext} from 'react-unity-webgl';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './Game.css';\n\nfunction Game() {\n\n    const unityContext = useUnityContext({\n        loaderUrl: `${process.env.PUBLIC_URL}/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.loader.js`,\n        dataUrl: `${process.env.PUBLIC_URL}/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.data`,\n        frameworkUrl: `${process.env.PUBLIC_URL}/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.framework.js`,\n        codeUrl: `${process.env.PUBLIC_URL}/unity_builds/QuizGameProjectBuildUpdated5/Build/QuizGameProjectBuildUpdated5.wasm`,\n    });\n\n    const navigate = useNavigate();\n\n    console.log('Unity Context 1:', unityContext);\n    const [score, setScore] = useState(0);\n    const [gameFinished, setGameFinished] = useState(false);\n\n    const {gameId} = useParams();\n\n    const handleSubmit = (event) => {  \n       event.preventDefault();\n       try{\n            axios.get('http://localhost:8081/getScore')\n            .then(res => {\n                const grabbedScore = res.data.score;\n                setScore(grabbedScore);\n                const studentId = sessionStorage.getItem('userId'); \n                console.log('Score:', score);\n                if(studentId){\n                    axios.post('http://localhost:8081/addGameData', {gameId: gameId, studentId: studentId, score: grabbedScore})\n                    .then(res => {\n                        alert(\"Game Data Saved Successfully!\");\n                        navigate('/studentcoursehome');\n                    })\n                    .catch(err => {\n                        console.error(err);\n                        alert(\"An unexpected error occurred.\");\n                    });\n                }\n            })\n        }catch (error){\n            console.error('Error adding game data:', error);\n        }\n\n    }\n\n    return (\n        <>\n            <div className='game-container'>\n            <div className=\"game-info\">\n                    <h3 className=\"score\" style={{ fontFamily: \"'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif\" }}>Game Score: {score}</h3>\n                    <form action=\"\" onSubmit={handleSubmit}>\n                        <button type='submit' className='px-4'  style={{ backgroundColor: '#f2352e', fontFamily: \"'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif\", fontSize: '20px', padding: '12px 24px' }}>Exit</button>\n                    </form>\n                </div>\n                <Unity unityProvider={unityContext.unityProvider} style={{ width: '70%', height: '70%' }} />\n            </div>\n            \n        </>\n    );\n}\n\nexport default Game;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}